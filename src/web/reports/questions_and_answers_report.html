<html>
  <head>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">

      // Load the Visualization API and the piechart package.
      google.load('visualization', '1.0', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.setOnLoadCallback(loadReportData);

      function loadReportData()
      {
          var query = new google.visualization.Query('../datasource?queryId=6');
          
          // Send the query with a callback function.
          query.send(drawVisualization);
      }
      
      function drawVisualization(response)
      {
          if (response.isError())
          {
            alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
            return;
          }

          var data = response.getDataTable();
          
            visualization = new google.visualization.LineChart(document.getElementById('combined_chart_div'));
            var options = { 'title' : 'Weekly Questions, Answers & Tutorials',
                            'width' : 1100,
                            'height' : 450,
                            'legend': 'bottom' 
                        };
            visualization.draw(data, options);
            
            var dataView1 = new google.visualization.DataView(data);
            dataView1.setColumns([0, 1]);
            
            visualization = new google.visualization.LineChart(document.getElementById('questions_chart_div'));
            var options = { 'title' : 'Weekly Questions',
                            'legend': 'bottom' 
                        };
            visualization.draw(dataView1, options);
            
            var dataView2 = new google.visualization.DataView(data);
            dataView2.setColumns([0, 2]);
            
            visualization = new google.visualization.LineChart(document.getElementById('answers_chart_div'));
            var options = { 'title' : 'Weekly Answers',
                            'legend': 'bottom' 
                        };
            visualization.draw(dataView2, options);
            
            var dataView3 = new google.visualization.DataView(data);
            dataView3.setColumns([0, 3]);
            
            visualization = new google.visualization.LineChart(document.getElementById('tutorials_chart_div'));
            var options = { 'title' : 'Weekly Tutorials',
                            'legend': 'bottom' 
                        };
            visualization.draw(dataView3, options);
      }
      
    </script>
  </head>

  <body>
    <div id="combined_chart_div""></div>
    <div id="questions_chart_div""></div>
    <div id="answers_chart_div""></div>
    <div id="tutorials_chart_div""></div>
  </body>
</html>
